try{!function(D,s,a,t){var C,b={utilities:{cookieHelper:{get:function(e){return e&&D.decodeURIComponent(s.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+D.encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},create:function(e,t,r,i,a,n){if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return!1;var o="";if(r)switch(r.constructor){case Number:o=r===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+r;break;case String:o="; expires="+r;break;case Date:o="; expires="+r.toUTCString()}return s.cookie=D.encodeURIComponent(e)+"="+D.encodeURIComponent(t)+o+(a?"; domain="+a:"")+(i?"; path="+i:"")+(n?"; secure":""),!0},removeItem:function(e,t,r){return!!this.hasItem(e)&&(s.cookie=D.encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(r?"; domain="+r:"")+(t?"; path="+t:""),!0)},hasItem:function(e){return!!e&&new RegExp("(?:^|;\\s*)"+D.encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(s.cookie)}},transformations:{toLowerCase:function(e){return"string"==typeof e?e.toLowerCase():e},trim:function(e){return"string"==typeof e?e.trim():e}},logMessage:function(e){var t={};console&&e&&(e.message&&(t.message=e.message),e.data&&(t.data=e.data),"error"===e.type&&console.error?console.error(t):console.log&&console.log(t))},safeJSONParse:function(e){if(e&&"string"==typeof e)try{return JSON.parse(e)}catch(e){return null}},padLeft:function(e,t,r){return Array(t-String(e).length+1).join(r||"0")+e},safeDateParse:function(e){var t;if(e&&("string"==typeof e||"number"==typeof e))try{return t=new Date(e),b.utilities.padLeft(t.getMonth()+1,2)+"/"+b.utilities.padLeft(t.getDate(),2)+"/"+t.getFullYear()}catch(e){return null}},isFunction:function(e){return"function"==typeof e},combineArraysWithoutDuplicates:function(e,t){var r;if((e||t)&&(e.length||t.length)){if(!e||!e.length)return t;if(!t||!t.length)return e;for(r=0;r<t.length;r++)-1===e.indexOf(t[r])&&e.push(t[r]);return e}},getQueryParameters:function(e){var t,r,i,a={};if(e=e||s.location.search){for(t=e.replace("?","").split("&"),i=0;i<t.length;i++){r=t[i].split("=");try{a[r[0]]=D.decodeURIComponent(D.encodeURIComponent(r[1]||""))}catch(e){a[r[0]]=""}}return a}},transform:function(e,t,r){var i,a,n=b.utilities.combineArraysWithoutDuplicates([b.utilities.transformations.trim],t.transformations);if(!e)return e;for(i=0;i<n.length;i++)b.utilities.isFunction(n[i])&&(a=n[i](i?a:e));return a},map:function(e,t){var r,i,a;for(r=0;r<e.length;r++)(a=e[r]).source&&(i=b.utilities.isFunction(a.source)?a.source():a.source,((i=b.utilities.transform(i,a,t))||!1===i||0===i)&&(t[a.key]=i))}},session:{key:"tas",create:function(){var e="delta.com",t=new Date(Number(Date.now())+63072e6),r=Number(Date.now()),i=b.utilities.safeJSONParse(b.utilities.cookieHelper.get(b.session.key));!i||i.lastVisitedDate&&r>=i.lastVisitedDate+18e5?i={createdDate:r,ID:Math.random().toString(36).substr(2)+"."+r,status:i?"renewed":"new"}:i.status="existing",i.lastVisitedDate=r,b.utilities.cookieHelper.removeItem(b.session.key,"/",e),b.utilities.cookieHelper.create(b.session.key,JSON.stringify(i),t,"/",e)},getID:function(){var e=b.utilities.safeJSONParse(b.utilities.cookieHelper.get(b.session.key));return e&&e.ID},getCreatedDate:function(){var e=b.utilities.safeJSONParse(b.utilities.cookieHelper.get(b.session.key));return e&&e.createdDate},getStatus:function(){var e=b.utilities.safeJSONParse(b.utilities.cookieHelper.get(b.session.key));return e&&e.status},getServerSessionID:function(){return C&&C.attributes.sessionID},getAdobeVisitorID:function(){var e=b.utilities.cookieHelper.get("s_vi");return e&&e.replace("[CS]v1|","").replace("[CE]","")},getAdobeFallbackVisitorID:function(){return D.visitor&&D.visitor.getMarketingCloudVisitorID&&D.visitor.getMarketingCloudVisitorID()},getForeseeID:function(){return D.FSR&&D.FSR.getKey&&FSR.getKey().uid}},page:{notifyWhenReady:function(e){if(t.isEDLReady)return e();a(s).on("shoplite:flightSearch:results:ready",e),a(s).on("edl-ready",function(){-1===D.location.pathname.indexOf("/flight-search/search-results")&&e()})},getURL:function(){return D.location.href},getReferrer:function(){return D.document.referrer},getTrackingCode:function(){var e=b.utilities.getQueryParameters();return e&&e.mkcpgn},getCountry:function(){return C&&C.attributes&&C.attributes.country},getLanguage:function(){return C&&C.page&&C.page.pageInfo&&C.page.pageInfo.language},getEnvironment:function(){return t&&t.ensightenOptions&&t.ensightenOptions.publishPath},getCurrentTimestamp:function(){return(new Date).getTime()},getTimezoneOffset:function(){return(new Date).getTimezoneOffset()}},user:{getID:function(){return C&&C.user&&C.user.profile&&C.user.profile.length&&C.user.profile[0].attributes&&C.user.profile[0].attributes.skymilesNumber||""},getIsLoggedIn:function(){return C&&C.user&&C.user.profile&&!!C.user.profile.length&&C.user.profile[0].attributes&&C.user.profile[0].attributes.isLoggedIn},getAvailableMiles:function(){return C&&C.user&&C.user.profile&&C.user.profile.length&&C.user.profile[0].attributes&&C.user.profile[0].attributes.availableMiles||""},getSegment:function(){return C&&C.user&&C.user.segment&&C.user.segment.medallionStatus}},itinerary:{fetchItineraries:function(e){var I,t,k,r=function(e){var t,r,i,a,n,o,s,c,u,l,g,f,p,h,d,m,y={};e&&(!function(){var e;if(D.msgDATA&&D.msgDATA.pageJSONResponse){try{e=JSON.parse(JSON.parse(D.msgDATA.pageJSONResponse).secDisplayInfo).ItineraryDO}catch(e){}e&&e.totalFare&&e.totalFare.length&&e.selectedFareIndex&&e.totalFare[e.selectedFareIndex]&&(k=e.totalFare[e.selectedFareIndex].fareRestrictionsBySlice)}}(),t=y,(r=e)&&(r.sliceOrigin&&r.sliceOrigin.code&&(t.t1=r.sliceOrigin.code.toLowerCase()),r.sliceDestination&&r.sliceDestination.code&&(t.t2=r.sliceDestination.code.toLowerCase())),i=y,D.flightSlices&&D.flightSlices.length&&((a=b.utilities.safeDateParse(D.flightSlices[0].sliceDepartureDateFull))&&(i.t3=a),(a=2===D.flightSlices.length&&b.utilities.safeDateParse(D.flightSlices[1].sliceDepartureDateFull))&&(i.t4=a)),n=y,D.flightSlices[0].flightType&&0===D.flightSlices[0].flightType.toLowerCase().indexOf("flight")?n.t5="multicity":1===D.flightSlices.length?n.t5="oneway":2===D.flightSlices.length&&(n.t5="roundtrip"),o=y,C.attributes&&C.attributes.ticketType&&(o.t6=C.attributes.ticketType.toLowerCase()),function(e){var t;if(D.totalFares&&D.totalFares.length)for(t=0;t<D.totalFares.length;t++)if(D.totalFares[t].selectedFare){e.t7=C&&C.cart&&C.cart.item&&C.cart.item.length&&C.cart.item[0].productInfo&&C.cart.item[0].productInfo.numberOfTravellers||"",D.totalFares[t].total&&(e.t8=D.totalFares[t].total),D.totalFares[t].taxesFees&&(e.t9=D.totalFares[t].taxesFees),D.totalFares[t].totalAwardMiles&&(e.t10=D.totalFares[t].totalAwardMiles);break}}(y),function(e,t){var r,i,a;if(t&&t.cabinInfo&&t.cabinInfo.length)for(e.ta12=[],r=0;r<t.cabinInfo.length;r++){if(a={},t.cabinInfo[r].depertureAirportCode&&(a.t1=t.cabinInfo[r].depertureAirportCode.toLowerCase()),t.cabinInfo[r].arrivalAirportCode&&(a.t2=t.cabinInfo[r].arrivalAirportCode.toLowerCase()),t.cabinInfo[r].bookingCode&&(a.t3=t.cabinInfo[r].bookingCode.toLowerCase()),t.cabinInfo[r].airlineCode&&(a.t4=t.cabinInfo[r].airlineCode.toLowerCase()),t.cabinInfo[r].fltNbr&&(a.t5=t.cabinInfo[r].fltNbr),t.flights&&t.flights.length&&t.flights[r]&&(t.flights[r].flightDepartureDate&&(a.t6=t.flights[r].flightDepartureDate.replace(/-/g,"/")),t.flights[r].flightDepartureTime&&(a.t7=t.flights[r].flightDepartureTime),t.flights[r].flightArrivalDate&&(a.t8=t.flights[r].flightArrivalDate.replace(/-/g,"/")),t.flights[r].flightArrivalTime&&(a.t9=t.flights[r].flightArrivalTime)),k&&k.length)for(i=0;i<k.length;i++)k[i]&&(k[i].origin||"").toLowerCase()===a.t1&&(k[i].destination||"").toLowerCase()===a.t2&&(a.t10=k[i].fareBasisCode);e.ta12.push(a)}}(y,e),s=y,C&&C.cart&&C.cart.transaction&&C.cart.transaction.pnr&&(s.t11=C.cart.transaction.pnr),c=y,(u=C&&C.cart&&C.cart.price&&C.cart.price.cartTotal||D.grandTotal)&&(c.t12=u),l=y,(g=C&&C.cart&&C.cart.price&&C.cart.price.currency||D.currCode)&&(l.t13=g),f=y,(p=e)&&p.cabinInfo&&p.cabinInfo.length&&(f.t15=p.cabinInfo[0].cabinName||""),h=y,D.flightSlices&&D.flightSlices.length&&(h.t16=D.flightSlices.length),d=y,(m=e)&&m.flightType&&(d.t14=m.flightType.toLowerCase()),I.push(y))};if(e()&&D.flightSlices&&D.flightSlices.length)for(I=[],t=0;t<D.flightSlices.length;t++)r(D.flightSlices[t]);return I},searched:{isExecutionPage:function(){return-1<D.location.pathname.indexOf("/air-shopping/findFlights.action")||-1<D.location.pathname.indexOf("/flight-search/search-results")},getOriginAirportCode:function(){return b.itinerary.searched.isExecutionPage()&&C&&C.cart&&C.cart.item&&C.cart.item.length&&C.cart.item[0].productInfo&&C.cart.item[0].productInfo.originAirportCode||""},getDestinationAirportCode:function(){return b.itinerary.searched.isExecutionPage()&&C&&C.cart&&C.cart.item&&C.cart.item.length&&C.cart.item[0].productInfo&&C.cart.item[0].productInfo.destinationAirportCode||""},getOutboundDate:function(){return b.itinerary.searched.isExecutionPage()&&C&&C.cart&&C.cart.item&&C.cart.item.length&&C.cart.item[0].productInfo&&C.cart.item[0].productInfo.departureDate||""},getReturnDate:function(){return b.itinerary.searched.isExecutionPage()&&C&&C.cart&&C.cart.item&&C.cart.item.length&&C.cart.item[0].productInfo&&C.cart.item[0].productInfo.arrivalDate||""},getPassengerCount:function(){return b.itinerary.searched.isExecutionPage()&&C&&C.cart&&C.cart.item&&C.cart.item.length&&C.cart.item[0].productInfo&&C.cart.item[0].productInfo.numberOfTravellers||""},getFareType:function(){return b.itinerary.searched.isExecutionPage()&&C&&C.cart&&C.cart.item&&C.cart.item.length&&C.cart.item[0].productInfo&&C.cart.item[0].productInfo.fareType||""},getTripType:function(){return b.itinerary.searched.isExecutionPage()&&C&&C.cart&&C.cart.item&&C.cart.item.length&&C.cart.item[0].productInfo&&C.cart.item[0].productInfo.flightType||""},getShopType:function(){return b.itinerary.searched.isExecutionPage()&&C&&C.attributes&&C.attributes.ticketType}},selected:{isExecutionPage:function(){return/(\/cart\/activity\/tripsummary\.action|\/cart\/activity\/fareChangeAction\.action)/i.test(D.location.pathname)},fetch:function(){return b.itinerary.fetchItineraries(b.itinerary.selected.isExecutionPage)}},purchased:{isExecutionPage:function(){return/(\/cart\/activity\/flightPurchase\.action|\/cart\/activity\/ccCheckReqAction\.action|\/cart\/activity\/VBVToCart\.action|\/cart\/activity\/ticketFulfillment\.action|\/cart\/activity\/alipayPaymentResult\.action|\/cart\/activity\/onlineBankingPaymentReturnAction\.action|\/cart\/activity\/acculynkPinSubmitResultAction\.action)/i.test(D.location.pathname)},fetch:function(){return b.itinerary.fetchItineraries(b.itinerary.purchased.isExecutionPage)}}},dataCollect:function(e,t,r){var i;e&&(i={url:"https://tkpi.delta.com/datacollect",httpMethod:r=r||"POST"},e&&(e.id=79992,e.requesttype=t||"page.load","POST"===r?a.ajax({url:i.url,type:i.httpMethod,contentType:"application/json",data:JSON.stringify(e),dataType:"json",crossDomain:!0,xhrFields:{withCredentials:!0}}):"GET"===r&&a.ajax({url:i.url,method:i.httpMethod,data:e})))}},e=[{key:"t1",source:b.session.getID},{key:"t2",source:b.session.getCreatedDate},{key:"t3",source:b.session.getStatus,transformations:[b.utilities.transformations.toLowerCase]},{key:"t4",source:b.session.getServerSessionID},{key:"t5",source:b.session.getAdobeVisitorID},{key:"t6",source:b.session.getForeseeID},{key:"t7",source:b.user.getID},{key:"t8",source:b.user.getIsLoggedIn},{key:"t9",source:b.user.getAvailableMiles},{key:"t10",source:b.user.getSegment,transformations:[b.utilities.transformations.toLowerCase]},{key:"t11",source:b.itinerary.searched.getOriginAirportCode,transformations:[b.utilities.transformations.toLowerCase]},{key:"t12",source:b.itinerary.searched.getDestinationAirportCode,transformations:[b.utilities.transformations.toLowerCase]},{key:"t13",source:b.itinerary.searched.getOutboundDate},{key:"t14",source:b.itinerary.searched.getReturnDate},{key:"t15",source:b.itinerary.searched.getFareType,transformations:[b.utilities.transformations.toLowerCase]},{key:"t16",source:b.itinerary.searched.getPassengerCount},{key:"t17",source:b.itinerary.searched.getTripType,transformations:[b.utilities.transformations.toLowerCase]},{key:"t18",source:b.itinerary.searched.getShopType,transformations:[b.utilities.transformations.toLowerCase]},{key:"ta1",source:b.itinerary.selected.fetch},{key:"ta2",source:b.itinerary.purchased.fetch},{key:"t19",source:b.page.getURL},{key:"t20",source:b.page.getReferrer},{key:"t22",source:b.page.getCountry,transformations:[b.utilities.transformations.toLowerCase]},{key:"t23",source:b.page.getLanguage,transformations:[b.utilities.transformations.toLowerCase]},{key:"t24",source:b.page.getEnvironment,transformations:[b.utilities.transformations.toLowerCase]},{key:"t30",source:b.page.getTrackingCode},{key:"t31",source:b.session.getAdobeFallbackVisitorID},{key:"c1",source:b.page.getCurrentTimestamp},{key:"c2",source:b.page.getTimezoneOffset},{key:"c4",source:"ctd"}],r={};b.page.notifyWhenReady(function(){window.delta&&window.delta.dataLayer&&b.utilities.isFunction(window.delta.dataLayer.getData)&&(C=window.delta.dataLayer.getData()),b.session.create(),b.utilities.map(e,r),b.dataCollect(r)})}(window,window.document,window.jQuery,window.Bootstrapper)}catch(e){}